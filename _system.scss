/**(
 * @fileOverview ./_system.scss
 * )
 */

@mixin define ($key, $value) {

  /***
  @description
  Define placeholder
  ***/

  %#{$key} {
    @include rules($value);
  }
}

@mixin hover ($key, $value) {

  /***
  @description
  Define hover styles
  ***/

  &:hover {
    @include rules($value);
  }
}

@mixin rule ($key, $value) {

  /***
  @description
  Print rule
  ***/

  #{$key}: $value;
}

@mixin rules ($name, $rules) {

  /***
  @description
  Print rules
  ***/

  @each $key, $value in $rules {
    @if(str-index($key, '_') == 1) {
      //@include #{str-slice($key, 2)}($name, $value);
    } @else if(type-of($value) == "map") {
      @include rules($name + '-' + $key, $value);
    } @else {
      @include rule($key, $value);
    }
  }

}

/***
@description
Define component
***/

@include rules('button', (
  _define : (
    background : #fff,
    color : #111,
    padding : 0.5em 1em,
    border-width : 1px,
    _hover : (
      background : #eee,
    )
  ),
));

@mixin get-rule ($bemClass, $args, $rule: null) {

  /***
  @description
  ***/

  @if $rule == null {
    $rule = #{'.'}#{$bemClass};
  }

  #{$rule} {
    //@include #{'base-'}#{$bemClass}($args);
    @content;
  }
}


.banner {
  text-align: center;
  font-size: 14px;
}

@mixin define-response ($name: null) {

  /***
  @description
  ***/

  $smResp: "#{$name}--sm";
  $mdResp: "#{$name}--md";
  %#{$name} {
    @media (min-width: 801px) {
      %#{$smResp} {
        @content;
      }
    }
    @media (min-width: 992px) {
      %#{$mdResp} {
        @content;
      }
    }
  }
}

@mixin responses ($collection: ()) {

  /***
  @description
  ***/

  @each $el in $collection {
    @extend %#{$el};
  }
  @content;
}


@include define-response ($name: "banner") {
  color: #fff;
}

.tablet {
  @include responses((
    banner--sm,
    banner--md
  ));

  @extend %banner;
}

@mixin retina () {

  /***
  @description
  ***/

  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (min--moz-device-pixel-ratio: 2),
    only screen and (-o-min-device-pixel-ratio: 2/1),
    only screen and (min-device-pixel-ratio: 2),
    only screen and (min-resolution: 192dpi),
    only screen and (min-resolution: 2dppx) {
    @content;
  }
}

@mixin print () {

  /***
  @description
  ***/

  @media print {
    @content;
  }
}
